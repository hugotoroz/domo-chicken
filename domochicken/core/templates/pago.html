{% extends "base/base.html" %}
{% block css %}
<link rel="stylesheet" href="../static/css/carrito.css">
{% endblock %}
{% block title %}Perfil - Domo Chicken{% endblock %}

{% block template %}
<div class="container text-white">
    {% if cod_respuesta == 0 %}
    <h1 class="text-center" style="margin-bottom: 10px;">Pedido realizado</h1>
    <p class="text-center">
        ¡Felicidades! Su pedido se ha realizado <strong>exitosamente.</strong> <br>
        Aquí tiene los detalles de su pedido

    </p>
    <div class="table-responsive">
        <table class="table">
            <thead>
                <tr>
                    <th>ORDEN DE PEDIDO</th>
                    <th class="text-center">FECHA</th>
                    <th class="text-center">DETALLE</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ orden_pedido }}</td>
                    <td class="text-center">{{ pedido.fecha }}</td>
                    <td class="text-center">
                        {% for x in detalle.fk_id_productos.all %}
                        {{ x.nombre_producto }}
                        {% if not forloop.last %} <br> {% endif %}
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <th scope="row" class="text-end">TOTAL</th>
                    <td colspan="2" class="text-left">$ {{pedido.total}}</td>
                </tr>
            </tbody>
        </table>
    </div>
    <img src="../static/img/pollitos_felices.gif" alt="Imágen de un pollito triste"
        class="img-fluid align-items-center justify-content-center"
        style="max-width: 400px; position:fixed; top: 50%; left: 50%; transform: translate(-50%, -10%);">
    {% else %}
    <h1 style="margin-top: 15px;" class="text-center">Pedido fallido</h1>
    <div class="align-items-center justify-content-center"
        style="position:fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
        <img src="../static/img/pollo_triste.gif" alt="Imágen de un pollito triste" class="img-fluid"
            style="max-width: 200px;">
        <p>
            Lo lamentamos, pero no hemos podido realizar su pedido.<br>
            Por favor, intente más tarde o con un método de pago diferente.
        </p>
    </div>


    {% endif %}
</div>

<!--
<div class="curved-div">
    <svg viewBox="0 0 1440 319">
        <path fill="#fff" fill-opacity="1"
            d="M0,32L48,80C96,128,192,224,288,224C384,224,480,128,576,90.7C672,53,768,75,864,96C960,117,1056,139,1152,149.3C1248,160,1344,160,1392,160L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
        </path>
    </svg>
</div>
-->
{% endblock %}